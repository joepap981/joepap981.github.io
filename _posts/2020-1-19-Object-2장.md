---
layout: post
title: 2 객체지향
---
## 2. 객체지향 프로그래밍을 향해
### 협력, 객체, 클래스
- 보통 객체지향적으로 프로그래밍을 한다고하면 클래스를 결정한 후에 클래스의 속성과 메서드를 고민한다
- 하지만 객체지향은 **클래스** 아닌 **객체**에 초첨을 맞춰야함
  1. 클래스가 아닌 어떤 객체가 필요한지 고민
    - 클래스 : 공통적인 상태와 행동을 공유하는 객체들을 추상화함
  2. 객체는 독립적인 존재가 아니라 기능을 구현하기 위해 협력하는 공동체의 일원

### 도메인의 구조를 따르는 프로그램 구조
- 소프트웨어는 어떤 문제를 해결하기 위해 만듬
- **도메인** : 문제를 해결하기 위해 사용자가 프로그램을 사용하는 분야

### 자율적인 객체
- 객체 : 1. 상태 (state) + 행동 (behavior) 2. 스스로 판단하고 행동하는 자율적인 존재
- 자율적인 객체를 구현하기 위해 외부의 간섭을 최소화 시킨다
  - 접근 제어 (access control)

### 프로그래머의 자유
- 프로그래머 역할을 class creator + client programmer로 구분
  1. 클래스 작성자 (CC): 새로운 데이터 타입을 프로그램에 추가
  2. 클라이언트 프로그래머 : CC가 추간한 데이터 타입 사용
- CP가 제공된 클래스를 엮어서 애플리케이션을 빠르게 구현 - 프로그램에 영향이 가는 것에 신경쓰지 않고 기능 내부 구현
  - 구현 은닉 (implementation hiding)

### 협력에 관한 짧은 이야기
- 객체의 내부 상태는 외부에서 접근하지 못하도록 감춰야 한다
  - 공개된 행동을 수행하도록 request를 해야하고 객체는 이에 대해 response
  - **send a message** : 객체가 다른 객체와 상호작용할 수 있는 유일한 방법
  - **receive a message** : 다른 객체에게 요청이 도착햇을 때 해당 객체가 수신함
  - **method**: 수신된 메시지를 처리하기 위한 자신만의 방법

## 4. 상속과 다형성
- 코드의 의존성과 실행 시점의 의존성이 다를 수도 있음
  - 더 유연하지만 디버깅이 어려워 질 수도 있음

### 차이에 의한 프로그래밍
- 부모 클래스와 다른 부분만 추가해서 새로운 클래스를 쉽고 빠르게 만드는 방법

      자식 클래스와 부모 클래스
      - 상속은 두 클래스 사이의 관계를 정의하는 방법
        - 상속관계 정의로 자동으로 다른 클래스가 제공하는 코드를 자신에게 일부 합칠 수 있음

### 다형성
- 어떤 객체가 메세지를 수신할 수 있다는 것이 확인이되면, 어떤 클래스가 그 메시지를 수신하는 것과 관계없이 사용
  - 상속, interface를 통해 다양한 결과를 얻을 수 있음

### 추상 클래스와 인터페이스 트레이드오프
- ?? Page 68 : NoneDiscountPolicy의 개발자는 getDiscountAmount()가 호출되지 않는 이상 DiscountPolicy가 0원을 반환할 것이라는 사실을 가정하고 있음??

### 코드 재사용
- 코드 재사용을 위해서는 interface 보다는 **합성 (composition)**

### 상속
- 코드 재사용을 위해서 상속을 사용하면 안 좋은 영향
  1. 캡슐화 위반
    - 상속을 위해 부모 클래스의 내부구조를 잘 알고 있어야함
      - 부모 클래스 구현이 자식에게 노출되기 때문에 강한 결합도
  2. 유연하지 못한 설계
   - 부모와 자식의 관계를 컴파일 시점에 결정한다
     - 실행 시점에서 AmountDiscount -> PercentDiscount로 바꾸고 싶으면, 새로 PercentDiscount를 생성해서 복사는 방법 밖에
       - 부모에게 강하게 결합되어 일어나는 현상

### 합성
- 인스턴스 변수로 관계를 연결함
  - 예제